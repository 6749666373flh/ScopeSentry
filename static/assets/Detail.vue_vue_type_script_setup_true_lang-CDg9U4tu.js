import{d as e,dH as l,r as a,s as o,o as t,i as s,w as u,e as i,a as n,G as r,z as m,y as d,t as p,l as v}from"./index-lnK3vi2u.js";import{a as c,E as f}from"./el-form-BQdiY2FK.js";import{E as g,a as b}from"./el-col-BaaUI79S.js";import{E as w}from"./el-divider-DFBHi6tM.js";import"./el-tag-BuYucu0j.js";import"./el-popper-u58bCfVz.js";import"./el-virtual-list-CdgO8bCm.js";import{E as h}from"./el-select-v2-D41hMSoB.js";import{j as _,o as j,T as y}from"./index-03CSIzGg.js";import{u as V,c as x}from"./index-Djpn7BGD.js";const k=e({__name:"Detail",props:{closeDialog:{type:Function},getList:{type:Function},pocForm:{}},setup(e){const{t:k}=v(),F=[_(),j],E=e,{pocForm:q}=l(E),D=a({...q.value}),M=o({name:[{required:!0,message:k("poc.nameMsg"),trigger:"blur"}],level:[{required:!0,message:k("poc.contentMsg"),trigger:"blur"}]}),U=[{value:"critical",label:"critical"},{value:"high",label:"high"},{value:"medium",label:"medium"},{value:"low",label:"low"},{value:"info",label:"info"},{value:"unkown",label:"unkown"}],z=a(!1),G=a();return(e,l)=>(t(),s(n(f),{model:D.value,"label-width":"120px",rules:M,"status-icon":"",ref_key:"ruleFormRef",ref:G},{default:u((()=>[i(n(c),{label:n(k)("poc.pocName"),prop:"name"},{default:u((()=>[i(n(r),{modelValue:D.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>D.value.name=e),placeholder:n(k)("poc.nameMsg")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),i(n(c),{label:n(k)("poc.content"),prop:"content"},{default:u((()=>[i(n(y),{modelValue:D.value.content,"onUpdate:modelValue":l[1]||(l[1]=e=>D.value.content=e),style:{height:"600px",width:"100%"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:F},null,8,["modelValue"])])),_:1},8,["label"]),i(n(c),{label:n(k)("poc.level")},{default:u((()=>[i(n(h),{modelValue:D.value.level,"onUpdate:modelValue":l[2]||(l[2]=e=>D.value.level=e),placeholder:"Please select level",options:U},null,8,["modelValue"])])),_:1},8,["label"]),i(n(w)),i(n(b),null,{default:u((()=>[i(n(g),{span:2,offset:8},{default:u((()=>[i(n(c),null,{default:u((()=>[i(n(m),{type:"primary",onClick:l[3]||(l[3]=e=>(async e=>{z.value=!0,e&&await e.validate((async(e,l)=>{if(e){let e;e=""!=D.value.id?await V(D.value.id,D.value.name,D.value.content,D.value.level):await x(D.value.name,D.value.content,D.value.level),200===e.code&&(E.getList(),E.closeDialog()),z.value=!1}else z.value=!1}))})(G.value)),loading:z.value},{default:u((()=>[d(p(n(k)("task.save")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"]))}});export{k as _};
