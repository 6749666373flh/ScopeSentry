import{d as e,dF as a,r as l,s as t,o,i as u,w as s,e as r,a as i,L as m,M as d,y as n,t as p,l as v}from"./index-C75x1W_q.js";import{a as c,E as f}from"./el-form-BuKnlznG.js";import{E as g,a as D}from"./el-col-DgdPSEMf.js";import{E as _}from"./el-divider-CiB4UXSP.js";import{u as y,c as b}from"./index-CzZJK-a4.js";const j=e({__name:"PortDetail",props:{closeDialog:{type:Function},getList:{type:Function},portDictForm:{}},setup(e){const{t:j}=v(),w=e,{portDictForm:F}=a(w),V=l({...F.value}),h=t({name:[{required:!0,message:j("portDict.nameMsg"),trigger:"blur"}],regular:[{required:!0,message:j("portDict.valueMsg"),trigger:"blur"}]}),M=l(!1),k=l();return(e,a)=>(o(),u(i(f),{model:V.value,"label-width":"auto",rules:h,"status-icon":"",ref_key:"ruleFormRef",ref:k},{default:s((()=>[r(i(c),{label:i(j)("portDict.name"),prop:"name"},{default:s((()=>[r(i(m),{modelValue:V.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value.name=e),placeholder:i(j)("portDict.nameMsg")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),r(i(c),{label:i(j)("portDict.value")},{default:s((()=>[r(i(m),{modelValue:V.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value.value=e),type:"textarea",prop:"value",placeholder:i(j)("portDict.valueMsg"),autosize:{minRows:11}},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),r(i(_)),r(i(D),null,{default:s((()=>[r(i(g),{span:2,offset:8},{default:s((()=>[r(i(c),null,{default:s((()=>[r(i(d),{type:"primary",onClick:a[2]||(a[2]=e=>(async e=>{M.value=!0,e&&await e.validate((async(e,a)=>{if(e){let e;e=""!=V.value.id?await y(V.value.id,V.value.name,V.value.value):await b(V.value.name,V.value.value),200===e.code&&(w.getList(),w.closeDialog()),M.value=!1}else M.value=!1}))})(k.value)),loading:M.value},{default:s((()=>[n(p(i(j)("task.save")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"]))}});export{j as _};
